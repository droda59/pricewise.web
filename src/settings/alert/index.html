<template>
    <div class="ui container">
        <form class="ui form" submit.delegate="save()" role="form">
            <div class="ui relaxed basic section" style="width: 80%; margin: 0 auto;">
                <div class="ui text menu">
                    <div class="item">
                        <h3 class="ui header" i18n="settings.alerts.alertSettings">Alert Settings</h3>
                    </div>
                </div>

                <div class="field">
                    <div class="ui checkbox">
                        <input type="checkbox" tabindex="0" class="hidden" checked.bind="user.settings.alertOnPriceDrop">
                        <label i18n="[html]settings.alerts.priceDrop">Notify me when the best price of an alert <b>drops</b></label>
                    </div>
                </div>

                <div class="field">
                    <div class="ui checkbox">
                        <input type="checkbox" tabindex="0" class="hidden" checked.bind="user.settings.alertOnPriceRaise">
                        <label i18n="[html]settings.alerts.priceRaise">Notify me when the best price of an alert <b>raises</b></label>
                    </div>
                </div>

                <div class="inline fields">
                    <div class="field">
                        <div class="ui checkbox">
                            <input type="checkbox" tabindex="0" class="hidden" checked.bind="user.settings.specifyChangePercentage">
                            <label i18n="settings.alerts.changeThreshold">Notify me only when the price changes by at least: </label>
                        </div>
                    </div>

                    <div class="field">
                        <div class="ui right labeled ${user.settings.specifyChangePercentage ? '' : 'disabled'} input">
                            <input type="number" value.bind="changePercentage" min="0" max="100" step="1">
                            <div class="ui label">%</div>
                        </div>
                    </div>
                </div>

                <button class="ui primary primary-action button" i18n="[append]settings.save"><i class="save icon"></i></button>
            </div>
        </form>
    </div>

    <loader is-active.one-way="isUpdatingUser" text="settings.updating"></loader>
</template>
